@import "./color.css";

/* ============================
    LAYOUT PROFESOR (Reutiliza el layout del padre)
    Nota: En el componente .jsx la clase principal DEBE ser "padre-layout"
    o "prof-layout" debe ser renombrada a "padre-layout" para funcionar.
    Asumo que usas las clases comunes ya definidas en PanelPadre.css y Global.css.
============================ */

/* Si mantienes .prof-layout en el .jsx, debe ser igual a .padre-layout */
.prof-layout {
    display: flex;
    height: 100vh;
    background: var(--color1);
}

/* El estilo de .sidebar, .sidebar-title, .sidebar-btn, .sidebar-btn.active, .logout-btn
   y .content se asume que ya está en PanelPadre.css y Global.css,
   ¡Pero debemos redefinir el sidebar-scroll del profesor! */

.sidebar-title {
    /* Mantener estilo del padre: color5 en background oscuro */
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 12px;
    padding-bottom: 10px;
    border-bottom: 2px solid rgba(255,255,255,0.3);
    color: var(--color1); /* Título del sidebar en color claro */
}

/* Contenedor de scroll para el listado de materias en la sidebar */
.sidebar-scroll {
    overflow-y: auto;
    flex-grow: 1; /* Ocupa el espacio restante */
    display: flex;
    flex-direction: column;
    gap: 10px; /* Separación entre botones, como en el padre */
    margin-bottom: 15px;
    padding-right: 5px;
}

/* ============================
    CONTENIDO PRINCIPAL (Equivalente a .alumno-card del padre)
============================ */

.materia-card {
    background: white;
    padding: 32px;
    border-radius: 20px;
    border: 2px solid var(--color2);
    box-shadow: 0px 6px 20px var(--shadow);
}

/* Nombre del profesor */
.profe-nombre {
    font-size: 32px;
    font-weight: 700;
    color: var(--color5);
}

.seccion-titulo {
    margin-top: 25px;
    font-size: 24px;
    color: var(--color3);
}
.buscar-materia {
    /* Input en sidebar, margen inferior más pequeño */
    margin-bottom: 8px;
}

.buscar-alumno {
    /* Input en el contenido principal */
    margin-bottom: 25px;
    width: 100%; /* El input debe ocupar el ancho completo */
}

/* ============================
    ACORDEÓN ALUMNO (Equivalente a .materia-item del padre)
============================ */
.acordeon-alumno {
    /* Estilo igual a .materia-item del padre */
    background: color-mix(in srgb, var(--color2) 40%, transparent);
    border-radius: 14px;
    padding: 12px;
    margin-top: 15px;
    border-left: 5px solid var(--color5);
    box-shadow: 0px 3px 12px var(--shadow-soft);
    margin-bottom: 15px; /* Separación entre acordeones de alumnos */
}

.acordeon-header {
    /* Estilo igual a .materia-header del padre */
    padding: 14px;
    font-weight: 700;
    background: color-mix(in srgb, var(--color3) 40%, transparent);
    border-radius: 12px;
    cursor: pointer;
    color: var(--color5);
    transition: 0.25s;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.acordeon-header:hover {
    background: var(--color4);
    color: white;
}

.acordeon-body {
    /* Estilo igual a .materia-body del padre */
    margin-top: 12px;
    padding: 14px;
    background: white;
    border-radius: 12px;
    border: 1px solid var(--color3);
}

/* ============================
    ACCIONES Y TABLAS
============================ */

/* Reutilizamos .tabla del CSS general, solo aseguramos que el margen sea consistente */
.tabla {
    margin-bottom: 15px; /* Más consistente con el padding */
}

/* Acciones (Guardar/Cancelar) - Mantener los estilos profesionales */
.acordeon-actions {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px solid var(--color3); /* Separador sutil */
}

.btn-guardar, .btn-cancelar {
    /* Aplicamos el estilo general de button, y luego los ajustes */
    width: auto; /* Para que no ocupe 100% como los botones de formulario */
    padding: 10px 20px;
    font-size: 15px;
    border-radius: 12px; /* Usar el radio del botón general */
}

.btn-guardar {
    background-color: var(--color5); /* Color principal del tema */
    color: white;
}

.btn-guardar:hover {
    background: #43473f; /* Tono de hover del botón general */
}

.btn-cancelar {
    background-color: var(--color3); /* Usamos el color de acento del padre */
    color: var(--color5); /* Texto oscuro para contraste */
}

.btn-cancelar:hover {
    background: var(--color4); /* Tono de acento más fuerte */
    color: white;
}

/* =======================================
   ESTILOS DE NOTIFICACIÓN (Usando la paleta)
   ======================================= */

.notification-box {
    padding: 12px 18px;
    margin: 15px 0;
    border-radius: 8px; /* Bordes un poco más suaves */
    font-weight: bold;
    border: 1px solid transparent;
    color: var(--color5); /* Texto principal */
    box-shadow: 0 2px 4px var(--shadow-soft);
}

/* Error: Se mantiene el rojo por convención, ajustado al tema */
.notification-error {
    background-color: #FFEBEE; /* Rojo extremadamente claro */
    color: #C62828; /* Rojo oscuro */
    border-color: #FFCDD2;
}

/* Warning/Advertencia: Usamos un amarillo suave */
.notification-warning {
    background-color: #FFFDE7; /* Amarillo muy claro */
    color: #FBC02D; /* Amarillo mostaza oscuro */
    border-color: #FFF9C4;
}

/* Success/Éxito: Usamos los colores de la paleta (color2/color4) */
.notification-success {
    background-color: var(--color2); /* Acento suave */
    color: var(--color5); /* Texto oscuro para contraste */
    border-color: var(--color4); /* Tono intermedio */
}

/* Info: Para mensajes como "Cambios descartados" */
.notification-info {
    background-color: #E3F2FD; /* Azul claro suave */
    color: #1565C0; /* Azul oscuro */
    border-color: #BBDEFB;
}

/* ============================
   RESPONSIVE (Ajuste para Mobile/Tablet)
============================ */
@media (max-width: 900px) {

    /* El botón hamburguesa se muestra */
    .hamburger {
        display: flex;
    }

    /* La sidebar se oculta por defecto y se convierte en un menú superpuesto */
    .sidebar {
        position: fixed;
        top: 0;
        width: 270px; 
        left: -270px; /* Completamente fuera de la pantalla */
        height: 100vh; /* Ocupa toda la altura de la vista */
        transition: left 0.35s ease;
        z-index: 1500;
    }

    /* Cuando se abre, se desliza hacia adentro */
    .sidebar.open {
        left: 0;
    }

    /* El layout principal debe reajustar el padding lateral en móvil */
    .padre-layout {
        padding-left: 0; 
    }

    /* El contenido principal ajusta el padding y se mueve debajo del botón hamburguesa */
    .content {
        padding: 30px;
        margin-top: 60px;
        width: 100%;
    }
    
    /* Regla crucial para evitar el scroll horizontal cuando el sidebar está cerrado 
       y prevenir el desbordamiento de las tablas. */
    body {
        overflow-x: hidden;
    }
}


/* ============================
   AJUSTES FINOS PARA PANTALLAS ULTRA ESTRECHAS (<= 420px)
   Esto soluciona la rotura en dispositivos como 350px.
============================ */
@media (max-width: 420px) {
    
    /* 1. Reducir padding general de la tarjeta y el contenido */
    .content {
        padding: 15px; /* Más estrecho */
    }

    .materia-card {
        padding: 15px; /* Padding interno de la tarjeta reducido */
    }
    
    /* 2. Reducir padding interno del cuerpo del acordeón (donde están las tablas) */
    .acordeon-body {
        padding: 10px; 
    }

    /* 3. Ajustar el tamaño de fuente para títulos grandes */
    .profe-nombre {
        font-size: 26px;
    }
    
    .seccion-titulo {
        font-size: 20px;
        margin-top: 15px;
        margin-bottom: 15px;
    }
    
    /* 4. Inputs y Selects dentro del acordeón (para liberar espacio en la tabla) */
    .acordeon-body input, 
    .acordeon-body select {
        padding: 8px 10px;
        margin-bottom: 5px;
        font-size: 14px;
        height: 38px; /* Altura más manejable */
    }

    /* 5. SOLUCIÓN AL DESBORDAMIENTO DE TABLAS: Scroll horizontal solo para la tabla */
    
    /* Envolvemos la tabla en un contenedor con scroll. 
       Necesitas envolver cada <table> con un <div> en el JSX: <div class="tabla-responsive-wrapper"><table class="tabla">...</table></div> */
    .tabla-responsive-wrapper {
        overflow-x: auto; /* Permite el scroll horizontal SÓLO en este contenedor */
        margin: 10px 0;
    }
    
    /* Aseguramos que la tabla dentro del wrapper no intente reducir su contenido */
    .tabla {
        /* Fuerza a la tabla a mantener un ancho mínimo para que el scroll funcione */
        min-width: 450px; 
        margin-bottom: 10px;
    }
    
    /* Ajustes finos a las celdas de la tabla */
    .tabla th,
    .tabla td {
        padding: 8px 5px; /* Reducir el padding de las celdas */
        font-size: 14px;
    }
    
    /* Ajustamos el tamaño del botón de la tabla (ej. el ícono de eliminar) */
    .tabla td button {
        padding: 8px; /* Botón más pequeño */
        border-radius: 8px;
        width: 38px; /* Ancho fijo para el botón de eliminar */
        height: 38px;
    }
    
    /* 6. Ajustar los botones de acción (Guardar/Cancelar) */
    .acordeon-actions {
        gap: 10px;
    }
    .btn-guardar, .btn-cancelar {
        padding: 8px 15px;
        font-size: 14px;
        border-radius: 10px;
    }
}
